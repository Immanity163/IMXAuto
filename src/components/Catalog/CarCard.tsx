"use client";

import Image from "next/image";
import styles from "./CarCard.module.scss";

export type Car = {
  id: string;
  country: "china" | "korea" | "japan";
  title: string;
  price: number;
  image: string;
  engine: string;
  power: string;
  mileage: string;
  fuel: string;
  year: number;
  slug?: string;
};

export default function CarCard({ car }: { car: Car }) {
  const price = new Intl.NumberFormat("ru-RU").format(car.price);

  return (
    <div className={styles.card}>
      <div className={styles.imageWrap}>
        <Image
          width={272}
          height={151}
          src={car.image}
          alt={car.title}
          className={styles.image}
          unoptimized
        />
      </div>

      <div className={styles.body}>
        <div className={styles.row}>
          <div className={styles.titleBox}>
            <h3 className={styles.title}>{car.title}</h3>
          </div>
          <div className={styles.pricePill}>{price} ₽</div>
        </div>

        <ul className={styles.specs}>
          <li>
            {/* двигатель */}
            <svg
              className={styles.ic}
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M2.96078 9.07143V7.34286C2.96078 7.06672 3.18464 6.84286 3.46078 6.84286H3.90078C4.17692 6.84286 4.40078 6.619 4.40078 6.34286V5.21429C4.40078 4.93814 4.62464 4.71429 4.90078 4.71429H7.64078M2.96078 9.07143V10.8C2.96078 11.0761 3.18464 11.3 3.46078 11.3H4.15123C4.30836 11.3 4.45634 11.3739 4.5508 11.4994L5.69076 13.0149C5.78522 13.1404 5.93321 13.2143 6.09033 13.2143H10.1717C10.3814 13.2143 10.5688 13.0834 10.6411 12.8865L11.4805 10.5992C11.5528 10.4023 11.7402 10.2714 11.9499 10.2714H12.5408C12.8169 10.2714 13.0408 10.4953 13.0408 10.7714V11.4857C13.0408 11.7619 13.2646 11.9857 13.5408 11.9857H13.9208C14.0492 11.9857 14.1726 11.9363 14.2656 11.8478L15.0456 11.1049C15.1447 11.0106 15.2008 10.8797 15.2008 10.7429V7.46052C15.2008 7.28939 15.1133 7.13015 14.9688 7.03842L14.2435 6.5779C14.1633 6.52702 14.0704 6.5 13.9755 6.5H13.5408C13.2646 6.5 13.0408 6.72386 13.0408 7V7.37143C13.0408 7.64757 12.8169 7.87143 12.5408 7.87143H12.1008C11.8246 7.87143 11.6008 7.64757 11.6008 7.37143V7C11.6008 6.72386 11.3769 6.5 11.1008 6.5H10.4983C10.2943 6.5 10.1108 6.37613 10.0346 6.18698L9.56699 5.02731C9.49073 4.83816 9.30722 4.71429 9.10327 4.71429H7.64078M2.96078 9.07143H0.800781M0.800781 9.07143V11.3M0.800781 9.07143V6.84286M7.64078 4.71429V3M7.64078 3H5.48078M7.64078 3H9.80078"
                stroke="#4B4D4E"
                strokeLinecap="round"
              />
            </svg>{" "}
            {car.engine} {car.power && `, ${car.power}`}
          </li>

          <li>
            {/* топливо */}
            <svg
              className={styles.ic}
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7.99935 1.33335C9.33268 4.00002 13.3327 5.72117 13.3327 9.33335C13.3327 12.2789 10.9449 14.6667 7.99935 14.6667C5.05383 14.6667 2.66602 12.2789 2.66602 9.33335C2.66602 5.72117 6.66602 4.00002 7.99935 1.33335Z"
                stroke="#4B4D4E"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
            {car.fuel}
          </li>

          <li>
            {/* пробег */}
            <svg
              className={styles.ic}
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7.66732 3.33331H7.95692C9.98841 3.33331 11.0042 3.33331 11.3897 3.69817C11.723 4.01356 11.8707 4.47817 11.7808 4.92812C11.6767 5.44866 10.8474 6.03522 9.18884 7.20833L6.47913 9.12496C4.82059 10.2981 3.99131 10.8846 3.88721 11.4052C3.79722 11.8551 3.94493 12.3197 4.27823 12.6351C4.66381 13 5.67956 13 7.71105 13H8.33398M5.33398 3.33331C5.33398 4.43788 4.43855 5.33331 3.33398 5.33331C2.22941 5.33331 1.33398 4.43788 1.33398 3.33331C1.33398 2.22874 2.22941 1.33331 3.33398 1.33331C4.43855 1.33331 5.33398 2.22874 5.33398 3.33331ZM14.6673 12.6666C14.6673 13.7712 13.7719 14.6666 12.6673 14.6666C11.5627 14.6666 10.6673 13.7712 10.6673 12.6666C10.6673 11.5621 11.5627 10.6666 12.6673 10.6666C13.7719 10.6666 14.6673 11.5621 14.6673 12.6666Z"
                stroke="#4B4D4E"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
            {car.mileage} км
          </li>

          <li>
            {/* год */}
            <svg
              className={styles.ic}
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M14 6.66665H2M10.6667 1.33331V3.99998M5.33333 1.33331V3.99998M5.2 14.6666H10.8C11.9201 14.6666 12.4802 14.6666 12.908 14.4487C13.2843 14.2569 13.5903 13.951 13.782 13.5746C14 13.1468 14 12.5868 14 11.4666V5.86665C14 4.74654 14 4.18649 13.782 3.75867C13.5903 3.38234 13.2843 3.07638 12.908 2.88463C12.4802 2.66665 11.9201 2.66665 10.8 2.66665H5.2C4.0799 2.66665 3.51984 2.66665 3.09202 2.88463C2.71569 3.07638 2.40973 3.38234 2.21799 3.75867C2 4.18649 2 4.74654 2 5.86665V11.4666C2 12.5868 2 13.1468 2.21799 13.5746C2.40973 13.951 2.71569 14.2569 3.09202 14.4487C3.51984 14.6666 4.0799 14.6666 5.2 14.6666Z"
                stroke="#4B4D4E"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
            {car.year} год
          </li>
        </ul>
      </div>
    </div>
  );
}
